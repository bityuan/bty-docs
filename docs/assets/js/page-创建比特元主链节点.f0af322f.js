(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{582:function(a,s,t){"use strict";t.r(s);var e=t(1),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"创建比特元主链节点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建比特元主链节点"}},[a._v("#")]),a._v(" 创建比特元主链节点")]),a._v(" "),t("blockquote",[t("p",[a._v("比特元（BitYuan）是一种简单稳定、拓展性强的公有链网络。默认情况下，支持开发者直接在已有的主链节点上开发探索，但是主链需要写入平行链的所有数据，如果持续在已有主链节点上开发探索，可能会影响系统性能；所以建议开发者自主增加主链节点，然后在新增主链节点上搭建平行链完成开发探索。")])]),a._v(" "),t("h2",{attrs:{id:"获取主链软件包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取主链软件包"}},[a._v("#")]),a._v(" 获取主链软件包")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("获取主链软件包，有以下两种方式：")]),a._v(" "),t("ul",[t("li",[a._v("从开源库"),t("a",{attrs:{href:"https://github.com/bityuan/bityuan/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/bityuan/bityuan/releases"),t("OutboundLink")],1),a._v("中下载与自己平台匹配的release版本，支持Mac、Windowns和Linux版本。")]),a._v(" "),t("li",[a._v("从现有比特元节点服务器上下载Bityuan程序及配置文件。\n"),t("ul",[t("li",[a._v("下载bityuan程序："),t("code",[a._v("wget http://122.9.98.227/data/ubuntu/bityuan")])]),a._v(" "),t("li",[a._v("下载cli程序："),t("code",[a._v("wget http://122.9.98.227/data/ubuntu/bityuan-cli")])]),a._v(" "),t("li",[a._v("下载配置文件："),t("code",[a._v("wget http://122.9.98.227/data/ubuntu/bityuan.toml")])])])])])]),a._v(" "),t("li",[t("p",[a._v("开放权限。")])])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("chmod +x ./bityuan bityuan-cli bityuan.toml\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"修改配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件"}},[a._v("#")]),a._v(" 修改配置文件")]),a._v(" "),t("p",[a._v("根据实际情况修改bityuan.toml配置文件中的以下参数：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('//[rpc]\n//主链的jsonrpc和grpc地址，删除localhost。主链白名单限制了只能本地地址访问，请根据实际需求修改为真实网段。\njrpcBindAddr="localhost:8801"\ngrpcBindAddr="localhost:8802"\nwhitelist=["127.0.0.1"]\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("h2",{attrs:{id:"启动节点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动节点"}},[a._v("#")]),a._v(" 启动节点")]),a._v(" "),t("ol",[t("li",[a._v("在含有Bityuan程序及配置文件目录下，执行命令，启动节点。")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("nohup ./bityuan -f bityuan.toml &\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("执行命令，查看主链节点信息。新增加的节点信息，默认打印在最后。")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("./bityuan-cli net peer\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("返回日志如下：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n    "addr": "123.***.***.253", \n    "port": 13803,\n    "name": "16Uiu2HAmBgc59hyLHMGBCEFm4ETMamzTwjuL*****mo6jt8EBnEB",\n    "mempoolSize": 0,\n    "self": true,\n    "header": {\n        "version": 0,\n        "parentHash": "0xfe6b884b7f82ffcea4ae43f*****674022b19db736d4a7d09a1683",\n        "txHash": "0xd67bc4d2f23f579f1c5a9e92*****07c6aa458fe14c8771ce2f06",\n        "stateHash": "0x1c954d5b22ea6f006597e*****c507e0f8844372f2c996b61f0f93",\n        "height": 0,\n        "blockTime": 1635***972,\n        "txCount": 8,\n        "hash": "0x4ed74981efd76ef6f3ad8ce8*****0435613df14f4d2a6c6f449e",\n        "difficulty": 0\n     },\n    "version": "1.65.2-dd28ef5d@6.5.3",\n    "runningTime": "2.842 minues"\n}\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br")])]),t("h2",{attrs:{id:"节点同步"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#节点同步"}},[a._v("#")]),a._v(" 节点同步")]),a._v(" "),t("p",[a._v("目前比特元区块高度远超1700w，节点自主同步耗时超长，您可以下载已同步的数据，节省同步时间。下载过程中不得与服务器中断交互（即进程），所以可以安装一个Tmux工具，解绑会话与窗口的绑定，这样就能保证耗时较长的下载过程不会中断。")]),a._v(" "),t("ol",[t("li",[a._v("安装Tmux工具。")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sudo yum install tmux\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("进入Tmux窗口。")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("tmux\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[a._v("下载同步数据。")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("wget http://122.9.98.227/data/datadir.zip\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("ol",{attrs:{start:"4"}},[t("li",[a._v("解压文件。")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("unzip datadir.zip\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[t("font",{attrs:{color:"blue"}},[a._v("说明：")]),a._v("虽然能节省同步时间，但是下载和后续同步仍需要相当长的时间。")],1)])}),[],!1,null,null,null);s.default=n.exports}}]);