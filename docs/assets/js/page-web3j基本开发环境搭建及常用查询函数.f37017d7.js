(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{690:function(e,a,n){"use strict";n.r(a);var t=n(1),s=Object(t.a)({},(function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"web3j-基本开发环境搭建及常用查询函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web3j-基本开发环境搭建及常用查询函数"}},[e._v("#")]),e._v(" web3j 基本开发环境搭建及常用查询函数")]),e._v(" "),n("h3",{attrs:{id:"_1-环境准备"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-环境准备"}},[e._v("#")]),e._v(" 1.环境准备")]),e._v(" "),n("ul",[n("li",[e._v("安装 Java Development Kit (JDK)， 在 Windows 上，还需要设置 JAVA_HOME 环境变量，以便在 VS Code 中正确识别 JDK")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("java -version\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("ul",[n("li",[e._v("安装 Maven， Maven 是一个用于构建 Java 项目的工具。可以从 Maven 官网下载并安装它")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("mvn -version\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("ul",[n("li",[e._v("安装 Visual Studio Code")]),e._v(" "),n("li",[e._v("在 vs code 中安装以下插件："),n("br"),e._v("\nExtension Pack for Java: 该插件包括许多有用的 Java 开发工具，如语法高亮、代码自动完成和调试支持等。"),n("br"),e._v("\nMaven for Java: 支持从 Maven 原型生成项目， 支持产生有效的 POM 等"),n("br"),e._v("\nDebugger for Java: 支持 Java 的调试")]),e._v(" "),n("li",[e._v('创建 maven 项目，\n在 VS Code 中，右键"Create Maven Project", 再输入 group id, artifact id 等')])]),e._v(" "),n("h3",{attrs:{id:"_2-安装-web3j"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装-web3j"}},[e._v("#")]),e._v(" 2. 安装 web3j")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("# 在pom.xml中添加以下依赖\n\x3c!-- web3j库 --\x3e\n<dependency>\n    <groupId>org.web3j</groupId>\n    <artifactId>core</artifactId>\n    <version>4.9.7</version>\n</dependency>\n\x3c!-- gson库 --\x3e\n<dependency>\n  <groupId>com.google.code.gson</groupId>\n  <artifactId>gson</artifactId>\n  <version>2.9.0</version>\n</dependency>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br")])]),n("h3",{attrs:{id:"_3-web3j-常用查询和基础转账"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-web3j-常用查询和基础转账"}},[e._v("#")]),e._v(" 3. web3j 常用查询和基础转账")]),e._v(" "),n("p",[e._v("web3j 文档： https://docs.web3j.io/4.9.7/getting_started/run_node_locally/")]),e._v(" "),n("ul",[n("li",[e._v('Web3j.build(new HttpService("URL")): 建立 rpc 连接')]),e._v(" "),n("li",[e._v("web3.ethBlockNumber(): 获取区块高度")]),e._v(" "),n("li",[e._v("web3.ethAccounts(): 获取链上账户信息")]),e._v(" "),n("li",[e._v('web3.ethGetBalance("地址", DefaultBlockParameterName.LATEST): 获取账户余额')]),e._v(" "),n("li",[e._v("Convert.fromWei(balance.toString(), Convert.Unit.ETHER).toString()： 格式化余额")]),e._v(" "),n("li",[e._v("web3.ethChainId(): 获取 chainid")]),e._v(" "),n("li",[e._v("web3.ethGetBlockByNumber(): 根据区块号获取区块信息")]),e._v(" "),n("li",[e._v('web3.ethGetTransactionByHash("交易 hash"): 根据交易 hash 获取交易内容')]),e._v(" "),n("li",[e._v("web3.ethGasPrice()： 获取 gasprice")]),e._v(" "),n("li",[e._v('Credentials.create("用户私钥"): 根据私钥获取转账凭证')]),e._v(" "),n("li",[e._v('Convert.toWei("转账数量", Convert.Unit.ETHER).toBigInteger()： 格式化转帐金额')]),e._v(" "),n("li",[e._v("RawTransaction.createEtherTransaction(nonce, gasPrice, gasLimit, to, value)： 创建交易对象")]),e._v(" "),n("li",[e._v("TransactionEncoder.signMessage(交易对象, chainid, 转账凭证)： 签名交易")]),e._v(" "),n("li",[e._v("web3.ethSendRawTransaction()： 交易上链")])]),e._v(" "),n("p",[e._v("具体使用可以参考同级目录下的: L12.java 文件")])])}),[],!1,null,null,null);a.default=s.exports}}]);