(window.webpackJsonp=window.webpackJsonp||[]).push([[143],{627:function(t,s,a){"use strict";a.r(s);var n=a(1),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"部署智能合约"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署智能合约"}},[t._v("#")]),t._v(" 部署智能合约")]),t._v(" "),a("blockquote",[a("p",[t._v("比特元支持部署多种智能合约，包括EVM、WASM、Go原生合约等，本文介绍在比特元平行链上如何部署EVM合约。")])]),t._v(" "),a("h2",{attrs:{id:"部署合约"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署合约"}},[t._v("#")]),t._v(" 部署合约")]),t._v(" "),a("h3",{attrs:{id:"创建合约交易-未签名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建合约交易-未签名"}},[t._v("#")]),t._v(" 创建合约交易(未签名)")]),t._v(" "),a("p",[a("strong",[t._v("请求报文"),t._v("：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "jsonrpc":"2.0",\n    "id": int32,\n    "method":"evm.CreateDeployTx",\n    "params":[\n\t\t{\n\t\t\t"code": "string",\n\t\t\t"abi": "string",\n\t\t\t"fee": 100000000,\n\t\t\t"note": "string",\n\t\t\t"alias": "string",\n\t\t\t"parameter": "string",\n\t\t\t"expire": "string",\n\t\t\t"paraName": "string",\n\t\t\t"amount": 0\n\t\t}\n\t]\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("p",[a("strong",[t._v("参数说明")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("是否必填")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("需要部署合约的 bin 内容")])]),t._v(" "),a("tr",[a("td",[t._v("abi")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("部署合约的 abi 内容")])]),t._v(" "),a("tr",[a("td",[t._v("fee")]),t._v(" "),a("td",[t._v("int64")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("精确的手续费可以通过EstimateGas这个jrpc接口进行估算，同时该交易费需要满足根据部署交易体积大小计算出来的交易费要求")])]),t._v(" "),a("tr",[a("td",[t._v("note")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("备注")])]),t._v(" "),a("tr",[a("td",[t._v("alias")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("合约别名")])]),t._v(" "),a("tr",[a("td",[t._v("parameter")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("部署合约的参数，例如 \"constructor(zbc, zbc, 3300, '${evm_creatorAddr}')\" 原型为 constructor (string memory name_, string memory symbol_,uint256 supply, address owner)，这里表示部署一个名称和symbol都为 zbc，总金额3300*le8，拥有者为 evm_creatorAddr 的ERC20合约")])]),t._v(" "),a("tr",[a("td",[t._v("expire")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("过期时间可输入如”300s”，”-1.5h”或者”2h45m”的字符串，有效时间单位为”ns”，“us” (or “µs”)，“ms”，“s”，“m”，“h”")])]),t._v(" "),a("tr",[a("td",[t._v("paraName")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v('如果是平行链参数 paraName 的值为 "user.p.para."， 如果是主链则为空')])]),t._v(" "),a("tr",[a("td",[t._v("amount")]),t._v(" "),a("td",[t._v("int64")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("p",[a("strong",[t._v("响应报文：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "id":int32,\n    "result":{\n        "data":"string"\n    },\n    "error":null\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("创建的交易数据")])])])]),t._v(" "),a("h3",{attrs:{id:"签名交易"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#签名交易"}},[t._v("#")]),t._v(" 签名交易")]),t._v(" "),a("p",[t._v("调用"),a("code",[t._v("Chain33.SignRawTx")]),t._v("接口签名交易，接口详情请参见 "),a("a",{attrs:{href:"https://docs.bityuan.com/zh/guide/7.API%E5%8F%82%E8%80%83/1.JSON-RPC%E6%8E%A5%E5%8F%A3/1.%E7%B3%BB%E7%BB%9F%E6%8E%A5%E5%8F%A3/1.%E4%BA%A4%E6%98%93%E6%8E%A5%E5%8F%A3/",target:"_blank",rel:"noopener noreferrer"}},[t._v("签名交易接口"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"发送交易"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发送交易"}},[t._v("#")]),t._v(" 发送交易")]),t._v(" "),a("p",[t._v("调用"),a("code",[t._v("Chain33.SendTransaction")]),t._v("接口发送交易，接口详情请参见"),a("a",{attrs:{href:"https://docs.bityuan.com/zh/guide/7.API%E5%8F%82%E8%80%83/1.JSON-RPC%E6%8E%A5%E5%8F%A3/1.%E7%B3%BB%E7%BB%9F%E6%8E%A5%E5%8F%A3/1.%E4%BA%A4%E6%98%93%E6%8E%A5%E5%8F%A3/",target:"_blank",rel:"noopener noreferrer"}},[t._v("发送交易接口"),a("OutboundLink")],1),t._v("。\n交易发送后, 生成交易哈希。")]),t._v(" "),a("h3",{attrs:{id:"获取合约地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取合约地址"}},[t._v("#")]),t._v(" 获取合约地址")]),t._v(" "),a("p",[a("strong",[t._v("请求报文"),t._v("：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "jsonrpc":"2.0",\n    "id": int32,\n    "method":"evm.CalcNewContractAddr",\n    "params":[\n\t\t{\n\t\t\t"caller":"string",\n\t\t\t"txhash":"string"\n\t\t}\n\t]\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("是否必填")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("caller")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("部署合约的地址")])]),t._v(" "),a("tr",[a("td",[t._v("txhash")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v('创建合约的交易哈希，去掉前面的 "0x"，'),a("code",[t._v("txhash=${txHash:2}")])])])])]),t._v(" "),a("p",[a("strong",[t._v("响应报文：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "id":int32,\n    "result":"string",\n    "error":null\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("result")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("合约地址")])])])]),t._v(" "),a("h3",{attrs:{id:"检查合约地址是否正确"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#检查合约地址是否正确"}},[t._v("#")]),t._v(" 检查合约地址是否正确")]),t._v(" "),a("p",[a("strong",[t._v("请求报文"),t._v("：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "jsonrpc":"2.0",\n    "id": int32,\n    "method":"Chain33.Query",\n    "params":[\n\t\t{\n\t\t\t"execer":"evm",\n\t\t\t"funcName":"CheckAddrExists",\n\t\t\t"payload":{\n\t\t\t\t"addr": "string"\n\t\t\t}\n\t\t}\n\t]\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("是否必填")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("method")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("这里固定为 Chain33.Query")])]),t._v(" "),a("tr",[a("td",[t._v("execer")]),t._v(" "),a("td",[t._v("执行器名称")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("这里固定为evm，如果是在平行链上则需要加上前缀，比如 user.p.game.evm")])]),t._v(" "),a("tr",[a("td",[t._v("funcName")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("操作名称，这里固定为 CheckAddrExists")])]),t._v(" "),a("tr",[a("td",[t._v("addr")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("被查询的合约地址")])])])]),t._v(" "),a("p",[a("strong",[t._v("响应报文"),t._v("：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "id":int32,\n    "result": {\n\t\t"contract":bool,\n\t\t"contractAddr":"string",\n\t\t"contractName":"string",\n\t\t"aliasName":"string"\n\t},\n    "error":null\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("contract")]),t._v(" "),a("td",[t._v("bool")]),t._v(" "),a("td",[t._v("合约地址是否存在，true 为存在，false 为不存在")])]),t._v(" "),a("tr",[a("td",[t._v("contractAddr")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("合约地址")])]),t._v(" "),a("tr",[a("td",[t._v("contractName")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("合约名称")])]),t._v(" "),a("tr",[a("td",[t._v("aliasName")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("合约别名")])])])]),t._v(" "),a("h2",{attrs:{id:"调用合约"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调用合约"}},[t._v("#")]),t._v(" 调用合约")]),t._v(" "),a("h3",{attrs:{id:"创建调用合约交易createcalltx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建调用合约交易createcalltx"}},[t._v("#")]),t._v(" 创建调用合约交易CreateCallTx")]),t._v(" "),a("p",[a("strong",[t._v("请求报文"),t._v("：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "jsonrpc":"2.0",\n    "id": int32,\n    "method":"evm.CreateCallTx",\n    "params":[\n\t\t{\n\t\t\t"abi": "string",\n\t\t\t"fee": int64,\n\t\t\t"note": "string",\n\t\t\t"parameter": "string",\n\t\t\t"expire":"string",\n\t\t\t"paraName":"string",\n\t\t\t"contractAddr":"string",\n\t\t\t"amount":int64\n\t\t}\n\t]\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("是否必填")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("parameter")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("操作合约的参数，例如转账交易 \"transfer('${evm_transferAddr}', 20)\"")])]),t._v(" "),a("tr",[a("td",[t._v("abi")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("部署合约的 abi 内容")])]),t._v(" "),a("tr",[a("td",[t._v("contractAddr")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("合约地址")])]),t._v(" "),a("tr",[a("td",[t._v("fee")]),t._v(" "),a("td",[t._v("int64")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("精确的手续费可以通过EstimateGas这个jrpc接口进行估算，同时该交易费需要满足根据部署交易体积大小计算出来的交易费要求，一般调用交易的交易费直接设置为通过交易体积大小计算出来的交易费即可")])]),t._v(" "),a("tr",[a("td",[t._v("paraName")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v('如果是平行链参数 paraName 的值为 "user.p.para."，如果是主链则为空')])])])]),t._v(" "),a("p",[a("strong",[t._v("响应报文：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "id":int32,\n    "result":{\n        "data":"string"\n    },\n    "error":null\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("创建的交易数据")])])])]),t._v(" "),a("h3",{attrs:{id:"查询合约信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询合约信息"}},[t._v("#")]),t._v(" 查询合约信息")]),t._v(" "),a("h4",{attrs:{id:"pack需要查询的信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pack需要查询的信息"}},[t._v("#")]),t._v(" pack需要查询的信息")]),t._v(" "),a("p",[a("strong",[t._v("请求报文"),t._v("：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "jsonrpc":"2.0",\n    "id": int32,\n    "method":"Chain33.Query",\n    "params":[\n\t\t{\n\t\t\t"execer":"evm",\n\t\t\t"funcName":"GetPackData",\n\t\t\t"payload":{\n\t\t\t\t"abi":"string",\n\t\t\t\t"parameter":"string"\n\t\t\t}\n\t\t}\n\t]\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("是否必填")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("method")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("这里固定为 Chain33.Query")])]),t._v(" "),a("tr",[a("td",[t._v("execer")]),t._v(" "),a("td",[t._v("执行器名称")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("这里固定为evm，如果是在平行链上则需要加上前缀，比如 user.p.game.evm")])]),t._v(" "),a("tr",[a("td",[t._v("funcName")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("操作名称，这里固定为 GetPackData")])]),t._v(" "),a("tr",[a("td",[t._v("abi")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("合约abi")])]),t._v(" "),a("tr",[a("td",[t._v("parameter")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("查询的参数信息")])])])]),t._v(" "),a("p",[a("strong",[t._v("响应报文"),t._v("：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "id":int32,\n    "result": {\n\t\t"packData":"string"\n\t},\n    "error":null\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("packData")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("需要查询的信息 pack 后的数据")])])])]),t._v(" "),a("h4",{attrs:{id:"查询pack后的数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询pack后的数据"}},[t._v("#")]),t._v(" 查询pack后的数据")]),t._v(" "),a("p",[a("strong",[t._v("请求报文"),t._v("：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "jsonrpc":"2.0",\n    "id": int32,\n    "method":"Chain33.Query",\n    "params":[\n\t\t{\n\t\t\t"execer":"evm",\n\t\t\t"funcName":"Query",\n\t\t\t"payload":{\n\t\t\t\t"address":"string",\n\t\t\t\t"input":"string",\n\t\t\t\t"caller":"string"\n\t\t\t}\n\t\t}\n\t]\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("是否必填")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("method")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("这里固定为 Chain33.Query")])]),t._v(" "),a("tr",[a("td",[t._v("execer")]),t._v(" "),a("td",[t._v("执行器名称")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("这里固定为evm，如果是在平行链上则需要加上前缀，比如 user.p.game.evm")])]),t._v(" "),a("tr",[a("td",[t._v("funcName")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("操作名称，这里固定为 Query")])]),t._v(" "),a("tr",[a("td",[t._v("address")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("合约地址")])]),t._v(" "),a("tr",[a("td",[t._v("input")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("需要查询的信息 pack 后的数据")])]),t._v(" "),a("tr",[a("td",[t._v("caller")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("合约部署者地址")])])])]),t._v(" "),a("p",[a("strong",[t._v("响应报文"),t._v("：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "id":int32,\n    "result": {\n\t\t"address":"string",\n\t\t"input":"string",\n\t\t"caller":"string",\n\t\t"rawData":"string",\n\t\t"jsonData":"string",\n\t},\n    "error":null\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("address")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("合约地址")])]),t._v(" "),a("tr",[a("td",[t._v("input")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("需要查询的信息 pack 后的数据")])]),t._v(" "),a("tr",[a("td",[t._v("caller")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("合约部署者地址")])]),t._v(" "),a("tr",[a("td",[t._v("rawData")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("查询到的结果")])]),t._v(" "),a("tr",[a("td",[t._v("jsonData")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("json数据")])])])]),t._v(" "),a("h3",{attrs:{id:"unpack查询到的结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unpack查询到的结果"}},[t._v("#")]),t._v(" unpack查询到的结果")]),t._v(" "),a("p",[a("strong",[t._v("请求报文"),t._v("：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "jsonrpc":"2.0",\n    "id": int32,\n    "method":"Chain33.Query",\n    "params":[\n\t\t{\n\t\t\t"execer":"evm",\n\t\t\t"funcName":"GetUnpackData",\n\t\t\t"payload":{\n\t\t\t\t"abi":"string",\n\t\t\t\t"parameter":"string",\n\t\t\t\t"data":"string"\n\t\t\t}\n\t\t}\n\t]\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("是否必填")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("method")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("这里固定为 Chain33.Query")])]),t._v(" "),a("tr",[a("td",[t._v("execer")]),t._v(" "),a("td",[t._v("执行器名称")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("这里固定为evm，如果是在平行链上则需要加上前缀，比如 user.p.game.evm")])]),t._v(" "),a("tr",[a("td",[t._v("funcName")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("操作名称，这里固定为 GetUnpackData")])]),t._v(" "),a("tr",[a("td",[t._v("abi")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("合约abi")])]),t._v(" "),a("tr",[a("td",[t._v("methodName")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("方法名称")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("需要 Unpack 的数据")])])])]),t._v(" "),a("p",[a("strong",[t._v("响应报文"),t._v("：")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n    "id":int32,\n    "result": {\n\t\t"unpackData":"string[]"\n\t},\n    "error":null\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[a("strong",[t._v("参数说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("unpackData")]),t._v(" "),a("td",[t._v("string[]")]),t._v(" "),a("td",[t._v("Unpack 的数据")])])])])])}),[],!1,null,null,null);s.default=r.exports}}]);