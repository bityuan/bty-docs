(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{497:function(n,t,a){"use strict";a.r(t);var e=a(1),s=Object(e.a)({},(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h1",{attrs:{id:"国密支持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#国密支持"}},[n._v("#")]),n._v(" 国密支持")]),n._v(" "),a("blockquote",[a("p",[n._v("Chain33平行链支持国密标准，集成了国密SM2(非对称加解密，签名，验签)算法, SM3哈希算法, SM4对称加解密算法等一系列国家密码局认定的商用密码算法，适用于所有常用的国密应用场景。")])]),n._v(" "),a("h2",{attrs:{id:"使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用方法"}},[n._v("#")]),n._v(" 使用方法")]),n._v(" "),a("p",[n._v("用户通过chain33-sdk生成国密公私钥对，构造交易使用国密签名，然后发送到chain33区块链，chain33节点通过国密算法验证签名。")]),n._v(" "),a("p",[a("strong",[n._v("环境搭建")])]),n._v(" "),a("p",[n._v("根据具体需要，选择搭建Chain33平行链，搭建方法请参考："),a("a",{attrs:{href:"https://chain.33.cn/document/275",target:"_blank",rel:"noopener noreferrer"}},[n._v("平行链节点搭建"),a("OutboundLink")],1)]),n._v(" "),a("p",[n._v("节点不需要对国密有额外的配置，节点会根据签名类型自适应验签方式。")]),n._v(" "),a("p",[a("strong",[n._v("构造国密交易")])]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('// 生成公私钥对\nSM2KeyPair keyPair = SM2Util.generateKeyPair();\n// 构造交易\nTransaction transation = createTxRaw(toAddress, execer.getBytes(), payLoad, DEFAULT_FEE);\n// 交易签名\nbyte[] msg = encodeProtobuf(transation)\nbyte[] priv = keyPair.getPrivateKey().toByteArray()\nbyte[] uid = "gm test".getBytes()\nsign(SignType.SM2, msg, priv, uid, transation);\n// 交易发送\nbyte[] encodeProtobufWithSign = encodeProtobufWithSign(transation);\nString transationHash = HexUtil.toHexString(encodeProtobufWithSign);\nString hash = chain33client.submitTransaction(transactionHash);\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br")])]),a("p",[a("strong",[n._v("国密签名结合证书校验")]),n._v("\n国密签名可以结合证书一起使用，使用示例参考"),a("a",{attrs:{href:"https://chain.33.cn/document/282",target:"_blank",rel:"noopener noreferrer"}},[n._v("Chain33 CA"),a("OutboundLink")],1)]),n._v(" "),a("p",[a("strong",[n._v("国密接口说明")]),n._v("\n国密的接口文档，请参考"),a("a",{attrs:{href:"https://github.com/33cn/chain33-sdk-java/blob/master/%E8%81%94%E7%9B%9F%E9%93%BE%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E.md#%E5%9B%BD%E5%AF%86%E6%8E%A5%E5%8F%A3",target:"_blank",rel:"noopener noreferrer"}},[n._v("chain33-sdk"),a("OutboundLink")],1),n._v("。")])])}),[],!1,null,null,null);t.default=s.exports}}]);