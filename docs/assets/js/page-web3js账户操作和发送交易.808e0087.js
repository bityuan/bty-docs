(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{643:function(e,s,t){"use strict";t.r(s);var a=t(1),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"web3-js-账户操作和发送交易"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#web3-js-账户操作和发送交易"}},[e._v("#")]),e._v(" web3.js 账户操作和发送交易")]),e._v(" "),t("h3",{attrs:{id:"_1-账户信息操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-账户信息操作"}},[e._v("#")]),e._v(" 1. 账户信息操作")]),e._v(" "),t("ul",[t("li",[e._v("web3.eth.getAccounts(): 返回当前节点控制的账户，如果本地节点没有创建账户, 则报错返回：ErrAccountNotExist")]),e._v(" "),t("li",[e._v("节点上通过 chain33-cli 命令行工具创建钱包")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('# 生成助记词\n./chain33-cli.exe seed generate -l 0\n# 保存助记词\n./chain33-cli.exe seed save -s "上一步返回" -p test1234\n# 解锁钱包\n./chain33-cli.exe wallet unlock -p test1234 -t 0\n# 创建账户\n./chain33-cli.exe account create -l test1234 -t 2\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br")])]),t("ul",[t("li",[e._v('web3.eth.personal.newAccount("账户别名") ： 返回创建的账户地址，如果别名有重复，则报错返回：ErrLabelHasUsed，注意：参数和 web3.js 原生的有区别')]),e._v(" "),t("li",[e._v('web3.eth.personal.importRawKey("用户私钥", "账户别名")： 将给定的私钥导入节点上的钱包，返回导入私钥的账户地址')]),e._v(" "),t("li",[e._v('web3.eth.getBalance("用户地址"): 返回用户地址下的余额， 精度 10 的 18 次方')])]),e._v(" "),t("h3",{attrs:{id:"_2-签名发送转账交易"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-签名发送转账交易"}},[e._v("#")]),e._v(" 2. 签名发送转账交易")]),e._v(" "),t("p",[e._v("方式一（不推荐）：使用保存在节点上的私钥签名并发送交易上链。 私钥存在节点上不是安全的做法，容易导致私钥泄漏。"),t("br"),e._v("\n方式二（推荐）： 利用私钥在链下签名，签名完成后再通过接口发送到区块链上。")]),e._v(" "),t("ul",[t("li",[e._v("web3.eth.accounts.signTransaction： 本地（链下）签名交易")]),e._v(" "),t("li",[e._v("web3.eth.sendSignedTransaction： 发送已经签好名的交易到区块链上")])])])}),[],!1,null,null,null);s.default=n.exports}}]);