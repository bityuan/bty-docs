# web3jåŸºæœ¬å¼€å‘ç¯å¢ƒæ­å»ºåŠå¸¸ç”¨æŸ¥è¯¢å‡½æ•°

> ğŸ“¹ [è§†é¢‘æ•™ç¨‹](https://www.bilibili.com/video/BV1LN411N7M4/?share_source=copy_web)

## 1. ç¯å¢ƒå‡†å¤‡

- å®‰è£… Java Development Kit (JDK)ï¼Œ åœ¨Windowsä¸Šï¼Œè¿˜éœ€è¦è®¾ç½®JAVA_HOMEç¯å¢ƒå˜é‡ï¼Œä»¥ä¾¿åœ¨VS Codeä¸­æ­£ç¡®è¯†åˆ«JDK
```bash
java -version
```
- å®‰è£… Mavenï¼Œ Mavenæ˜¯ä¸€ä¸ªç”¨äºæ„å»ºJavaé¡¹ç›®çš„å·¥å…·ã€‚å¯ä»¥ä»Mavenå®˜ç½‘ä¸‹è½½å¹¶å®‰è£…å®ƒ
```bash
mvn -version
```
- å®‰è£…Visual Studio Code   
- åœ¨vs codeä¸­å®‰è£…ä»¥ä¸‹æ’ä»¶ï¼š  
  Extension Pack for Java: è¯¥æ’ä»¶åŒ…æ‹¬è®¸å¤šæœ‰ç”¨çš„Javaå¼€å‘å·¥å…·ï¼Œå¦‚è¯­æ³•é«˜äº®ã€ä»£ç è‡ªåŠ¨å®Œæˆå’Œè°ƒè¯•æ”¯æŒç­‰ã€‚  
  Maven for Java: æ”¯æŒä»MavenåŸå‹ç”Ÿæˆé¡¹ç›®ï¼Œ æ”¯æŒäº§ç”Ÿæœ‰æ•ˆçš„POMç­‰  
  Debugger for Java: æ”¯æŒJavaçš„è°ƒè¯•  
   
- åˆ›å»ºmavené¡¹ç›®ï¼Œ 
åœ¨VS Codeä¸­ï¼Œå³é”®"Create Maven Project",  å†è¾“å…¥group id, artifact idç­‰

## 2. å®‰è£…web3j

```xml
# åœ¨pom.xmlä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–
<!-- web3jåº“ -->
<dependency>
    <groupId>org.web3j</groupId>
    <artifactId>core</artifactId>
    <version>4.9.7</version>
</dependency>
<!-- gsonåº“ -->
<dependency>
  <groupId>com.google.code.gson</groupId>
  <artifactId>gson</artifactId>
  <version>2.9.0</version>
</dependency>
```

## 3. web3jå¸¸ç”¨æŸ¥è¯¢å’ŒåŸºç¡€è½¬è´¦

web3jæ–‡æ¡£ï¼š https://docs.web3j.io/4.9.7/getting_started/run_node_locally/

- Web3j.build(new HttpService("URL")): å»ºç«‹rpcè¿æ¥
- web3.ethBlockNumber(): è·å–åŒºå—é«˜åº¦
- web3.ethAccounts(): è·å–é“¾ä¸Šè´¦æˆ·ä¿¡æ¯
- web3.ethGetBalance("åœ°å€", DefaultBlockParameterName.LATEST): è·å–è´¦æˆ·ä½™é¢
- Convert.fromWei(balance.toString(), Convert.Unit.ETHER).toString()ï¼š æ ¼å¼åŒ–ä½™é¢
- web3.ethChainId(): è·å–chainid
- web3.ethGetBlockByNumber(): æ ¹æ®åŒºå—å·è·å–åŒºå—ä¿¡æ¯
- web3.ethGetTransactionByHash("äº¤æ˜“hash"): æ ¹æ®äº¤æ˜“hashè·å–äº¤æ˜“å†…å®¹
- web3.ethGasPrice()ï¼š è·å–gasprice
- Credentials.create("ç”¨æˆ·ç§é’¥"): æ ¹æ®ç§é’¥è·å–è½¬è´¦å‡­è¯
- Convert.toWei("è½¬è´¦æ•°é‡", Convert.Unit.ETHER).toBigInteger()ï¼š æ ¼å¼åŒ–è½¬å¸é‡‘é¢
- RawTransaction.createEtherTransaction(nonce, gasPrice, gasLimit, to, value)ï¼š åˆ›å»ºäº¤æ˜“å¯¹è±¡
- TransactionEncoder.signMessage(äº¤æ˜“å¯¹è±¡, chainid, è½¬è´¦å‡­è¯)ï¼š ç­¾åäº¤æ˜“
- web3.ethSendRawTransaction()ï¼š äº¤æ˜“ä¸Šé“¾
 
å…·ä½“ä½¿ç”¨å¯ä»¥å‚è€ƒåŒçº§ç›®å½•ä¸‹çš„: L12.javaæ–‡ä»¶
